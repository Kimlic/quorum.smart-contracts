{"fileName":"\\contracts\\BasePartyStorageAdapter.sol","name":"BasePartyStorageAdapter","abi":[{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setBusinessArea","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setDataPrivacyUrl","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getShortName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getLegalName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setLegalResidenceCountry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setWebsite","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getDataPrivacyUrl","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getLegalResidenceCountry","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getWebsite","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setLegalName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getBusinessArea","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setShortName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"contextStorage","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}],"source":"pragma solidity ^0.4.23;\r\n\r\n\r\nimport \"./BaseStorage.sol\";\r\nimport \"./WithKimlicContext.sol\";\r\nimport \"./BaseStorage.sol\";\r\nimport \"./KimlicContractsContext.sol\";\r\n\r\ncontract BasePartyStorageAdapter is WithKimlicContext {\r\n\r\n    /// private attributes ///\r\n    string private constant legalNameKey = \"legalName\";\r\n    string private constant shortNameKey = \"shortName\";\r\n    string private constant businessAreaKey = \"businessArea\";\r\n    string private constant legalResidenceCountryKey = \"legalResidenceCountry\";\r\n    string private constant websiteKey = \"website\";\r\n    string private constant dataPrivacyUrlKey = \"dataPrivacyUrl\";\r\n\r\n\r\n    /// constructors ///\r\n    constructor (address contextStorage) public WithKimlicContext(contextStorage) {\r\n        \r\n    }\r\n\r\n    /// public methods ///\r\n\r\n    /* Setters */\r\n    function setLegalName(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, legalNameKey);\r\n    }\r\n    \r\n    function setShortName(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, shortNameKey);\r\n    }\r\n    \r\n    function setBusinessArea(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, businessAreaKey);\r\n    }\r\n    \r\n    function setLegalResidenceCountry(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, legalResidenceCountryKey);\r\n    }\r\n    \r\n    function setWebsite(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, websiteKey);\r\n    }\r\n    \r\n    function setDataPrivacyUrl(address party, string value) public setterAccessRestriction(party) {\r\n        setStringValue(party, value, dataPrivacyUrlKey);\r\n    }\r\n\r\n    /* Getters */\r\n    function getLegalName(address party) public view  returns(string) {\r\n        return getStringValue(party, legalNameKey);\r\n    }\r\n    \r\n    function getShortName(address party) public view  returns(string) {\r\n        return getStringValue(party, shortNameKey);\r\n    }\r\n    \r\n    function getBusinessArea(address party) public view  returns(string) {\r\n        return getStringValue(party, businessAreaKey);\r\n    }\r\n    \r\n    function getLegalResidenceCountry(address party) public view  returns(string) {\r\n        return getStringValue(party, legalResidenceCountryKey);\r\n    }\r\n    \r\n    function getWebsite(address party) public view  returns(string) {\r\n        return getStringValue(party, websiteKey);\r\n    }\r\n    \r\n    function getDataPrivacyUrl(address party) public view  returns(string) {\r\n        return getStringValue(party, dataPrivacyUrlKey);\r\n    }\r\n\r\n    /// private methods ///\r\n    function setStringValue(address party, string value, string fieldName) private {\r\n        bytes memory key = abi.encode(party, fieldName);\r\n        getStorage().setString(keccak256(key), value);\r\n    }\r\n\r\n    function getStringValue(address party, string fieldName) private view returns(string) {\r\n        bytes memory key = abi.encode(party, fieldName);\r\n        return getStorage().getString(keccak256(key));\r\n    }\r\n\r\n    /// internal methods ///\r\n    function getStorage() view internal returns (BaseStorage);\r\n\r\n    modifier setterAccessRestriction(address party) {\r\n        require(msg.sender == party || msg.sender == getContext().owner());\r\n        _;\r\n    }\r\n}","abiDocs":[{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setBusinessArea","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"setBusinessArea(address,string)","signatureHash":"10f15c9b"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setDataPrivacyUrl","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"setDataPrivacyUrl(address,string)","signatureHash":"1137de0c"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getShortName","payable":false,"stateMutability":"view","type":"function","signature":"getShortName(address)","signatureHash":"1ebd3a59"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getLegalName","payable":false,"stateMutability":"view","type":"function","signature":"getLegalName(address)","signatureHash":"33114b37"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setLegalResidenceCountry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"setLegalResidenceCountry(address,string)","signatureHash":"3c26cea6"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setWebsite","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"setWebsite(address,string)","signatureHash":"4cfbc0b6"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getDataPrivacyUrl","payable":false,"stateMutability":"view","type":"function","signature":"getDataPrivacyUrl(address)","signatureHash":"6e16634d"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getLegalResidenceCountry","payable":false,"stateMutability":"view","type":"function","signature":"getLegalResidenceCountry(address)","signatureHash":"a66fb326"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getWebsite","payable":false,"stateMutability":"view","type":"function","signature":"getWebsite(address)","signatureHash":"c05e9dec"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setLegalName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","notice":"public methods ///\r","signature":"setLegalName(address,string)","signatureHash":"d611aa61"},{"constant":true,"inputs":[{"name":"party","type":"address"}],"name":"getBusinessArea","payable":false,"stateMutability":"view","type":"function","signature":"getBusinessArea(address)","signatureHash":"df864f0d"},{"constant":false,"inputs":[{"name":"party","type":"address"},{"name":"value","type":"string"}],"name":"setShortName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"setShortName(address,string)","signatureHash":"e8b531a2"},{"inputs":[{"name":"contextStorage","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]}
